/* 기본 스타일 */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --primary-color: #4A90E2;
  --secondary-color: #6C7A89;
  --success-color: #5CB85C;
  --warning-color: #F0AD4E;
  --danger-color: #D9534F;
  --info-color: #5BC0DE;
  --light-bg: #F8F9FA;
  --dark-bg: #2C3E50;
  --text-color-light: #34495E;
  --text-color-dark: #ECF0F1;
  --border-color-light: #E0E0E0;
  --border-color-dark: #3B506B;
  --panel-bg-light: #FFFFFF;
  --panel-bg-dark: #34495E;
  --header-height: 56px; /* 살짝 낮춤 */
  --toolbar-height: 46px; /* 살짝 낮춤 */
  --footer-height: 40px;
  --shadow-light: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-dark: 0 4px 12px rgba(0,0,0,0.3);
}

[data-theme="light"] { --bg-color: var(--light-bg); --text-color: var(--text-color-light); --border-color: var(--border-color-light); --panel-bg: var(--panel-bg-light); --shadow: var(--shadow-light); }
[data-theme="dark"]  { --bg-color: var(--dark-bg);  --text-color: var(--text-color-dark);  --border-color: var(--border-color-dark);  --panel-bg: var(--panel-bg-dark);  --shadow: var(--shadow-dark); }

body { font-family: 'Roboto','Segoe UI',Tahoma,Geneva,Verdana,sans-serif; background: var(--bg-color); color: var(--text-color); line-height: 1.55; transition: background-color .3s ease, color .3s ease; display: flex; flex-direction: column; min-height: 100vh; }

.container { display: flex; flex-direction: column; flex: 1; max-width: 1100px; margin: 0 auto; box-shadow: var(--shadow); border-radius: 8px; overflow: hidden; background: var(--panel-bg); }

/* 헤더 */
.header { display: flex; justify-content: space-between; align-items: center; padding: 0 14px; height: var(--header-height); background: linear-gradient(90deg, var(--primary-color), #3498DB); color: #fff; box-shadow: var(--shadow); z-index: 10; }
.header h1 { font-size: 1.35rem; font-weight: 700; letter-spacing: .3px; }
.header h1 i { margin-right: 8px; color: #ECF0F1; }
.header-nav { display: flex; align-items: center; gap: 12px; margin-left: 14px; }
.header-nav a { color: #ECF0F1; text-decoration: none; font-weight: 600; font-size: .9rem; padding: 4px 8px; border-radius: 4px; opacity: .95; }
.header-nav a:hover { background: rgba(255,255,255,.12); opacity: 1; }
.theme-toggle .btn-icon { background: rgba(255,255,255,.15); color:#fff; border-radius: 50%; width: 34px; height: 34px; display:flex; justify-content:center; align-items:center; font-size:1rem; }
.theme-toggle .btn-icon:hover { background: rgba(255,255,255,.25); }

/* 소개/가이드 섹션 */
.content-section { padding: 12px 16px; background: var(--panel-bg); border-top: 1px solid var(--border-color); }
.content-section h2 { margin-bottom: 6px; color: var(--primary-color); font-size: 1.15rem; }
.content-section p, .content-section ul, .content-section ol { margin: 4px 0 8px; }
.content-section ul, .content-section ol { padding-left: 18px; }

/* 광고 슬롯: 로드될 때만 높이 차지 */
.ad-slot { margin: 8px 0; }
.ad-slot.ad-active { min-height: 60px; margin: 10px 0; }

/* 툴바 */
.toolbar { display: flex; justify-content: flex-start; align-items: center; padding: 6px 14px; height: var(--toolbar-height); background: var(--panel-bg); border-bottom: 1px solid var(--border-color); flex-wrap: wrap; gap: 8px; box-shadow: 0 2px 5px rgba(0,0,0,.05); z-index: 5; }
.toolbar-group { display: flex; gap: 6px; align-items: center; }

/* 버튼 */
.btn { padding: 6px 12px; border: none; border-radius: 5px; cursor: pointer; font-size: .9rem; font-weight: 600; text-decoration: none; display:inline-flex; align-items:center; gap:6px; transition: all .2s ease; color:#fff; box-shadow: 0 2px 5px rgba(0,0,0,.1); }
.btn:hover { transform: translateY(-1px); box-shadow: 0 4px 10px rgba(0,0,0,.2); }
.btn:active { transform: translateY(0); box-shadow: 0 1px 3px rgba(0,0,0,.1); }
.btn i { font-size: .95rem; }
.btn-primary{background:var(--primary-color);} .btn-secondary{background:var(--secondary-color);} .btn-success{background:var(--success-color);} .btn-warning{background:var(--warning-color); color:var(--text-color-light);} .btn-info{background:var(--info-color);} 
.btn-icon{ padding:6px; border-radius:50%; background: rgba(0,0,0,.1);} .btn-sm{ padding:5px 9px; font-size:.8rem; }

/* 메인 */
.main-content { display:flex; flex:1; overflow:hidden; background: var(--panel-bg); }
.editor-panel, .preview-panel { flex:1; display:flex; flex-direction:column; border-right:1px solid var(--border-color); }
.preview-panel { border-right:none; }

.panel-header { display:flex; justify-content:space-between; align-items:center; padding:8px 12px; background: var(--light-bg); border-bottom:1px solid var(--border-color); font-weight:600; color:var(--text-color); font-size:.92rem; }
[data-theme="dark"] .panel-header { background:#2C3E50; color:var(--text-color-dark); }
.panel-header h3 { font-size:1rem; display:flex; align-items:center; gap:6px; color:var(--primary-color); }
[data-theme="dark"] .panel-header h3 { color:#5BC0DE; }
.panel-controls { display:flex; gap:8px; align-items:center; font-size:.78rem; color:var(--secondary-color); }
.editor-container, .preview-container { flex:1; overflow:hidden; background:var(--panel-bg); }

/* CodeMirror */
.CodeMirror { height:100% !important; font-family:'Fira Code','Consolas','Monaco','Courier New',monospace; font-size:14px; line-height:1.55; border:none; background:var(--panel-bg) !important; color:var(--text-color) !important; padding:8px; }
.CodeMirror-gutters { background:var(--panel-bg) !important; border-right:1px solid var(--border-color) !important; }
.CodeMirror-linenumber { color:var(--secondary-color) !important; }
.CodeMirror-cursor { border-left:2px solid var(--primary-color) !important; }
.CodeMirror-selected { background: rgba(74,144,226,.2) !important; }

/* 미리보기 */
#previewFrame { width:100%; height:100%; border:none; background:var(--panel-bg); }

/* 푸터 */
.footer { display:flex; justify-content:space-between; align-items:center; padding:6px 14px; height:var(--footer-height); background:var(--dark-bg); color:#BDC3C7; border-top:1px solid var(--border-color-dark); font-size:.74rem; box-shadow:0 -2px 5px rgba(0,0,0,.05); z-index:10; }
.footer-links { display:flex; gap:12px; }
.footer-links a { color:#BDC3C7; text-decoration:none; cursor:pointer; transition:color .2s ease; }
.footer-links a:hover { color:var(--primary-color); text-decoration:underline; }

/* 모달, 전체화면, 알림은 동일 (간소화 생략) */
.modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,.6); display:flex; justify-content:center; align-items:center; animation:fadeIn .3s ease; }
.modal-content { background:var(--panel-bg); padding:24px; border-radius:10px; width:92%; max-width:650px; max-height:90vh; overflow-y:auto; position:relative; animation:slideIn .3s ease; box-shadow:var(--shadow); color:var(--text-color); }
.close { position:absolute; right:12px; top:12px; font-size:26px; font-weight:bold; cursor:pointer; color:var(--secondary-color); transition:color .2s ease; }
.close:hover { color:var(--danger-color); }

/* 반응형 */
@media (max-width: 992px) { .toolbar{justify-content:center; height:auto; padding:8px;} .toolbar-group{flex-wrap:wrap; justify-content:center;} .btn{padding:6px 10px; font-size:.85rem;} }
@media (max-width: 768px) { .header h1{font-size:1.2rem;} .header-nav{display:none;} .main-content{flex-direction:column;} .editor-panel,.preview-panel{border-right:none; border-bottom:1px solid var(--border-color);} .preview-panel{border-bottom:none;} .modal-content{margin:5% auto; width:95%;} }
@media (max-width: 576px) { .header{padding:0 12px;} .toolbar{padding:6px;} .btn{padding:6px 9px; font-size:.8rem;} .panel-header{padding:7px 10px;} .panel-header h3{font-size:.95rem;} .panel-controls{font-size:.7rem;} .footer{flex-direction:column; height:auto; padding:8px 14px; gap:4px;} }

/* 스크롤바 */
::-webkit-scrollbar{ width:8px; height:8px; } ::-webkit-scrollbar-track{ background:var(--bg-color); } ::-webkit-scrollbar-thumb{ background:var(--secondary-color); border-radius:4px; } ::-webkit-scrollbar-thumb:hover{ background:var(--primary-color); }

/* 로딩 */
.loading{ display:inline-block; width:16px; height:16px; border:2px solid var(--border-color); border-radius:50%; border-top-color:var(--primary-color); animation:spin 1s ease-in-out infinite; }
@keyframes spin{ to { transform: rotate(360deg); } }
@keyframes fadeIn{ from{opacity:0;} to{opacity:1;} }
@keyframes slideIn{ from{ transform:translateY(-30px); opacity:0;} to{ transform:translateY(0); opacity:1;} }
@keyframes slideInRight{ from{ transform:translateX(120%); opacity:0;} to{ transform:translateX(0); opacity:1;} }
@keyframes slideOutRight{ from{ transform:translateX(0); opacity:1;} to{ transform:translateX(120%); opacity:0;} }


